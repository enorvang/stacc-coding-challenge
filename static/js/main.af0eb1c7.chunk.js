(this["webpackJsonpstacc-coding-challenge"]=this["webpackJsonpstacc-coding-challenge"]||[]).push([[0],{164:function(e,t,n){e.exports=n(309)},169:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),u=(n(169),n(73)),i=n(42),s=n.n(i),l=n(61),p=n(62),m=n.n(p),d=m.a.create({baseURL:"https://fintech-webinar-2020-api.vercel.app/api",timeout:3e3,headers:{Authorization:"Bearer ".concat("eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik0wTXhNVEEzTVVFeU5rRkZSREZGTnpSRE1VUXdPVVU0TXpBNFF6QkdRVVF6UkVSRE1VSTNSUSJ9.eyJpc3MiOiJodHRwczovL3N0YWNjeC5ldS5hdXRoMC5jb20vIiwic3ViIjoiejQ0RGdzWVFKREtyNTRCcmZvU0x3c2pLWWRtUDRLdWtAY2xpZW50cyIsImF1ZCI6Imh0dHBzOi8vc3RhY2MuZmludGVjaCIsImlhdCI6MTYwMTIwNTAwNywiZXhwIjoxNjAzNzk3MDA3LCJhenAiOiJ6NDREZ3NZUUpES3I1NEJyZm9TTHdzaktZZG1QNEt1ayIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.fBvgUGcc1zS3eStbdGo19mLC6KqOdMeBdo_xuZEBz9jCzllRfrgqIhPbys5Se2XreGxu5_6oKWlXbqDOvnbuvjTJKnhoO9Aom1meUjqbQgaROeN0hbmPxVDKF-JDtOdZbAWtZv1ds9bWF0zqo9Z7ogicZ0eUi8FnEA2h2I6peVQPL9cJJwSfhjXPW73Ws4e6c0vynnhXLc5BcQgst0iaMZd4n3tdruzP_bgEY5GqbKvJxHjL2KNHh933VZSZdx_7mf4imsgsed2AL1QkIkqj5lvf_niyzrEmOLs_K_rSOZqRzO0c1u9wxrCK7qlryzpv8nz3C3zXfNdnMQHOejOFpQ")}}),f={getAll:function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/accounts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},h=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://api.coingecko.com/api/v3","/ping"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://api.coingecko.com/api/v3","/coins/markets?vs_currency=").concat(t,"&order=market_cap_desc&per_page=100&page=1&sparkline=false"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={pingServer:h,getCoin:function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://api.coingecko.com/api/v3","/coins/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllCoinsForCurrency:b,getCoinHistory:function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://api.coingecko.com/api/v3","/coins/").concat(t,"/history?date=").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},k=n(310),g=(n(186),[{title:"Name",dataIndex:"name",key:"name"},{title:"Balance",dataIndex:"balanceAmount",key:"balanceAmount",sorter:{compare:function(e,t){return e.balanceAmount-t.balanceAmount},multiple:2}},{title:"NOK Value",dataIndex:"convertedBalance",key:"convertedBalance",sorter:{compare:function(e,t){return e.convertedBalance-t.convertedBalance},multiple:1},defaultSortOrder:"descend"},{title:"Market Cap",dataIndex:"marketCap",key:"marketCap",sorter:{compare:function(e,t){return e.marketCap-t.marketCap},multiple:3}},{title:"Market Cap Rank",dataIndex:"marketCapRank",key:"marketCapRank",sorter:{compare:function(e,t){return e.marketCapRank-t.marketCapRank},multiple:4}}]),C=function(e){var t=e.accounts;return r.a.createElement(k.a,{dataSource:t,columns:g,rowKey:function(e){return e.id}})},y=function(e){var t=e.total;return r.a.createElement("div",null,r.a.createElement("h3",null,"Total account value: ",t," NOK"))},O=n(311),I=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),s=i[0],l=i[1],p=Object(a.useState)(""),m=Object(u.a)(p,2),d=m[0],h=m[1],b=Object(a.useState)(0),k=Object(u.a)(b,2),g=k[0],I=k[1],j=Object(a.useState)([]),w=Object(u.a)(j,2),E=w[0],S=w[1];Object(a.useEffect)((function(){f.getAll().then((function(e){c(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){v.getAllCoinsForCurrency("nok").then((function(e){return l(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){S(x())}));var x=function(){var e=n.map((function(e){return e.name.substring(0,3).toLowerCase()})),t=s.filter((function(t){return e.includes(t.symbol)})).sort((function(e,t){return e.symbol.localeCompare(t.symbol)})),a=n;a.sort((function(e,t){return e.name.substring(0,3).toLowerCase().localeCompare(t.name.substring(0,3).toLowerCase())}));for(var r=0,c=0;c<t.length;c++){var o=Number(a[c].balance.amount)*t[c].current_price;a[c].convertedBalance=o.toFixed(2),r+=o,a[c].balanceAmount=a[c].balance.amount,a[c].marketCap=t[c].market_cap,a[c].marketCapRank=t[c].market_cap_rank}return I(r.toFixed(2)),a},R=function(e,t){v.getCoinHistory(e,t).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))};return r.a.createElement("div",null,r.a.createElement("h1",null,"Stacc Coding Challenge"),r.a.createElement("h2",null,"My Cryptocurrency accounts"),r.a.createElement("p",null,"Selected date: ",d.toString()),r.a.createElement(O.a,{format:"DD-MM-YYYY",onChange:function(e,t){h(t),R("bitcoin",t)}}),r.a.createElement(y,{total:g}),r.a.createElement(C,{accounts:E}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[164,1,2]]]);
//# sourceMappingURL=main.af0eb1c7.chunk.js.map